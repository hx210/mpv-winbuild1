From fad66bf1451cb46ea739556a8789f7a7ad3e5b19 Mon Sep 17 00:00:00 2001
From: shadows <11155705+zhongfly@users.noreply.github.com>
Date: Thu, 22 Sep 2022 20:09:24 +0800
Subject: [PATCH] [PATCH]libssh: remove patch

---
 ...libssh-0001-install-modified-pc-file.patch | 49 -------------------
 packages/libssh.cmake                         |  1 -
 2 files changed, 50 deletions(-)
 delete mode 100644 packages/libssh-0001-install-modified-pc-file.patch

diff --git a/packages/libssh-0001-install-modified-pc-file.patch b/packages/libssh-0001-install-modified-pc-file.patch
deleted file mode 100644
index 45d8af1..0000000
--- a/packages/libssh-0001-install-modified-pc-file.patch
+++ /dev/null
@@ -1,49 +0,0 @@
-From 9b5e9dc7ac94660eb0f08fe9d5eac4e30218c3d5 Mon Sep 17 00:00:00 2001
-From: shinchiro <shinchiro@users.noreply.github.com>
-Date: Sun, 3 Oct 2021 11:36:34 +0800
-Subject: [PATCH] Install modified .pc file
-
-for mbedtls support
----
- CMakeLists.txt  |  2 +-
- libssh.pc.cmake | 16 +++++++++++-----
- 2 files changed, 12 insertions(+), 6 deletions(-)
-
-diff --git a/CMakeLists.txt b/CMakeLists.txt
-index 32172d9..a295551 100644
---- a/CMakeLists.txt
-+++ b/CMakeLists.txt
-@@ -125,7 +125,7 @@ add_subdirectory(src)
- 
- # pkg-config file
- if (UNIX OR MINGW)
--configure_file(libssh.pc.cmake ${CMAKE_CURRENT_BINARY_DIR}/libssh.pc)
-+configure_file(libssh.pc.cmake ${CMAKE_CURRENT_BINARY_DIR}/libssh.pc @ONLY)
- install(
-   FILES
-     ${CMAKE_CURRENT_BINARY_DIR}/libssh.pc
-diff --git a/libssh.pc.cmake b/libssh.pc.cmake
-index b37cb3f..a4e1b2b 100644
---- a/libssh.pc.cmake
-+++ b/libssh.pc.cmake
-@@ -1,6 +1,12 @@
--Name: ${PROJECT_NAME}
--Description: The SSH Library
--Version: ${PROJECT_VERSION}
--Libs: -L${CMAKE_INSTALL_FULL_LIBDIR} -lssh
--Cflags: -I${CMAKE_INSTALL_FULL_INCLUDEDIR}
-+prefix=@CMAKE_INSTALL_PREFIX@
-+exec_prefix=${prefix}
-+libdir=${exec_prefix}/lib
-+includedir=${prefix}/include/libssh
- 
-+Name: @PROJECT_NAME@
-+Description: The SSH Library
-+Version: @PROJECT_VERSION@
-+Libs: -L${libdir} -lssh
-+Libs.private: -lmbedtls -lmbedx509 -lmbedcrypto -lz -lwsock32 -lws2_32 -lpthread
-+Cflags: -I${includedir}
-+Cflags.private: -DLIBSSH_STATIC
--- 
-2.36.0
-
diff --git a/packages/libssh.cmake b/packages/libssh.cmake
index d5f0fdb..63c78e2 100644
--- a/packages/libssh.cmake
+++ b/packages/libssh.cmake
@@ -6,7 +6,6 @@ ExternalProject_Add(libssh
     SOURCE_DIR ${SOURCE_LOCATION}
     GIT_SHALLOW 1
     UPDATE_COMMAND ""
-    PATCH_COMMAND ${EXEC} git am --3way ${CMAKE_CURRENT_SOURCE_DIR}/libssh-*.patch
     CONFIGURE_COMMAND ${EXEC} cmake -H<SOURCE_DIR> -B<BINARY_DIR>
         -DCMAKE_BUILD_TYPE=Release
         -DCMAKE_INSTALL_PREFIX=${MINGW_INSTALL_PREFIX}
-- 
2.37.3

